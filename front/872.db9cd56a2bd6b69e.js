"use strict";(self.webpackChunkangular_toursapp=self.webpackChunkangular_toursapp||[]).push([[872],{4872:(C,f,s)=>{s.r(f),s.d(f,{FoodModule:()=>Q});var i=s(6895),c=s(9299),t=s(4650),l=s(2340),m=s(529);let r=(()=>{class e{constructor(o){this.http=o,this.apiURL=l.N.apiURL}getFoods(){return this.http.get(`${this.apiURL}foods`)}getFood(o){return this.http.get(`${this.apiURL}foods/${o}`)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(m.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=s(4463),p=s(7936),h=s(4202),d=s(4077),u=s(4374),x=s(3238);let T=(()=>{class e{constructor(){this.url=["",0],this.urlImage="",this.rowOneText="",this.rowTwoText=0}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-food-list-item"]],inputs:{url:"url",urlImage:"urlImage",rowOneText:"rowOneText",rowTwoText:"rowTwoText"},decls:8,vars:4,consts:[["mat-ripple","",1,"list-item-body","mat-card",3,"routerLink"],[1,"item-image",3,"src"],[1,"item-data"],[1,"row1-and-row2"],[1,"row-1"],[1,"row-2"]],template:function(o,a){1&o&&(t.TgZ(0,"a",0),t._UZ(1,"img",1),t.TgZ(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.qZA(),t.TgZ(6,"p",5),t._uU(7),t.qZA()()()()),2&o&&(t.Q6J("routerLink",a.url),t.xp6(1),t.Q6J("src",a.urlImage,t.LSH),t.xp6(4),t.Oqu(a.rowOneText),t.xp6(2),t.hij("$",a.rowTwoText,""))},dependencies:[c.yS,x.wG],styles:[".list-item-body[_ngcontent-%COMP%]{display:flex;height:82px;padding:6px;box-sizing:border-box;gap:6px;text-decoration:none;margin-bottom:12px;border-radius:10px;box-shadow:none}.list-item-body[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{min-width:70px;width:70px;height:70px;border-radius:6px;object-fit:cover;background-color:#fff;aspect-ratio:1}.list-item-body[_ngcontent-%COMP%]   .item-data[_ngcontent-%COMP%]{display:inherit;justify-content:space-between;flex-direction:column;width:100%}.list-item-body[_ngcontent-%COMP%]   .item-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .list-item-body[_ngcontent-%COMP%]   .item-data[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.list-item-body[_ngcontent-%COMP%]   .item-data[_ngcontent-%COMP%]   .row1-and-row2[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]{max-height:40px;font-weight:500;line-height:20px;overflow:hidden}.list-item-body[_ngcontent-%COMP%]   .item-data[_ngcontent-%COMP%]   .row1-and-row2[_ngcontent-%COMP%]   .row-2[_ngcontent-%COMP%]{font-weight:500;font-size:12px;color:var(--toursapp-primary-app)}.list-item-body[_ngcontent-%COMP%]   .item-data[_ngcontent-%COMP%]   .row-3[_ngcontent-%COMP%]{font-size:11px;color:gray;line-height:12px}"]}),e})();const v=function(e){return["/services/food",e]};function w(e,n){if(1&e&&t._UZ(0,"app-food-list-item",1),2&e){const o=n.$implicit;t.Q6J("url",t.VKq(4,v,o._id))("urlImage",o.imgURL)("rowOneText",o.name)("rowTwoText",o.prices[0].amount)}}let F=(()=>{class e{constructor(){this.foods=[]}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-food-list"]],inputs:{foods:"foods"},decls:1,vars:1,consts:[[3,"url","urlImage","rowOneText","rowTwoText",4,"ngFor","ngForOf"],[3,"url","urlImage","rowOneText","rowTwoText"]],template:function(o,a){1&o&&t.YNc(0,w,1,6,"app-food-list-item",0),2&o&&t.Q6J("ngForOf",a.foods)},dependencies:[i.sg,T]}),e})();function O(e,n){if(1&e&&t._UZ(0,"app-food-list",7),2&e){const o=t.oxw(2);t.Q6J("foods",o.foods)}}function P(e,n){if(1&e&&(t.TgZ(0,"div",3)(1,"div",4),t._UZ(2,"app-filter-buttons-group"),t.qZA(),t.TgZ(3,"div",5),t.YNc(4,O,1,1,"app-food-list",6),t.qZA()()),2&e){const o=t.oxw();t.xp6(4),t.Q6J("skeleton",o.isLoading)("skeletonHeight","90px")("skeletonRepeat",8)("skeletonWidth","100%")}}function y(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"app-error-message",8),t.NdJ("reload",function(){t.CHM(o);const _=t.oxw();return t.KtG(_.getFoods())}),t.qZA()}}let k=(()=>{class e{constructor(o,a){this.foodService=o,this.translate=a,this.foods=[],this.isLoading=!0,this.isError=!1,this.pageTitle=""}ngOnInit(){this.getFoods(),this.translatePage()}getFoods(){this.isLoading=!0,this.isError=!1,this.foodService.getFoods().subscribe({next:o=>this.foods=o,error:o=>{console.log(o),this.isError=!0,this.isLoading=!1},complete:()=>this.isLoading=!1})}translatePage(){this.translate.get("TOURIST_SERVICES.FOOD.LIST").subscribe({next:o=>{this.pageTitle=o.TITLE}})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r),t.Y36(g.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-foods-page"]],decls:3,vars:3,consts:[[3,"viewTitle"],["class","wrapper",4,"ngIf"],[3,"reload",4,"ngIf"],[1,"wrapper"],[1,"filters-list"],[1,"foods-list"],[3,"foods",4,"skeleton","skeletonHeight","skeletonRepeat","skeletonWidth"],[3,"foods"],[3,"reload"]],template:function(o,a){1&o&&(t._UZ(0,"app-back-title-button",0),t.YNc(1,P,5,4,"div",1),t.YNc(2,y,1,0,"app-error-message",2)),2&o&&(t.Q6J("viewTitle",a.pageTitle),t.xp6(1),t.Q6J("ngIf",!a.isError),t.xp6(1),t.Q6J("ngIf",a.isError))},dependencies:[i.O5,p.M,h.T,d.H,u.J,F],styles:[".wrapper[_ngcontent-%COMP%]{width:100%}@media (min-width: 800px){.wrapper[_ngcontent-%COMP%]{display:flex;gap:12px}.filters-list[_ngcontent-%COMP%]{min-width:270px;width:380px}.foods-list[_ngcontent-%COMP%]{max-width:1366px;width:100%;margin:0 auto}}"]}),e})();var M=s(7011),b=s(6435);let L=(()=>{class e{constructor(){this.name=""}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-food-top-details"]],inputs:{name:"name"},decls:2,vars:1,consts:[[1,"food-name"]],template:function(o,a){1&o&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu(a.name))},styles:[".icon-small[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px}.title-and-rating[_ngcontent-%COMP%]{display:flex}.title-and-rating[_ngcontent-%COMP%]   .food-name[_ngcontent-%COMP%]{width:100%;max-height:64px;text-overflow:ellipsis;overflow:hidden;margin:0;line-height:25px}.title-and-rating[_ngcontent-%COMP%]   .food-rate[_ngcontent-%COMP%]{width:112px;margin-top:4px;display:none}.food-location[_ngcontent-%COMP%], .food-distance[_ngcontent-%COMP%]{font-size:12px;display:none}.food-description[_ngcontent-%COMP%]{margin:6px 0}"]}),e})(),I=(()=>{class e{constructor(){this.imageUrl=""}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-food-details-picture"]],inputs:{imageUrl:"imageUrl"},decls:1,vars:1,consts:[[1,"museum-image",3,"src"]],template:function(o,a){1&o&&t._UZ(0,"img",0),2&o&&t.Q6J("src",a.imageUrl,t.LSH)},styles:[".museum-image[_ngcontent-%COMP%]{width:100%;object-fit:cover;aspect-ratio:4/3;margin:0 0 12px}"]}),e})();function Z(e,n){if(1&e&&t._UZ(0,"app-food-details-picture",11),2&e){const o=t.oxw(2);t.Q6J("imageUrl",o.food.imgURL)}}function U(e,n){if(1&e&&t._UZ(0,"app-food-top-details",12),2&e){const o=t.oxw(2);t.Q6J("name",o.food.name)}}function S(e,n){if(1&e&&t._UZ(0,"app-details-separator",13),2&e){const o=t.oxw(2);t.Q6J("title",o.separatorTitles[0].text)}}function D(e,n){if(1&e&&t._UZ(0,"app-details-price-text",14),2&e){const o=n.$implicit;t.Q6J("title",o.name)("text",o.amount)}}function J(e,n){if(1&e&&(t.TgZ(0,"div",3)(1,"div",4),t.YNc(2,Z,1,1,"app-food-details-picture",5),t.TgZ(3,"div",6),t.YNc(4,U,1,1,"app-food-top-details",7),t.YNc(5,S,1,1,"app-details-separator",8),t.YNc(6,D,1,2,"app-details-price-text",9),t.qZA()(),t._UZ(7,"div",10),t.qZA()),2&e){const o=t.oxw();t.xp6(2),t.Q6J("skeleton",o.isLoading)("skeletonHeight","225px")("skeletonWidth","100%"),t.xp6(2),t.Q6J("skeleton",o.isLoading)("skeletonHeight","100px")("skeletonWidth","100%"),t.xp6(1),t.Q6J("skeleton",o.isLoading)("skeletonHeight","20px")("skeletonWidth","60px"),t.xp6(1),t.Q6J("ngForOf",o.food.prices)}}function N(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"app-error-message",15),t.NdJ("reload",function(){t.CHM(o);const _=t.oxw();return t.KtG(_.getFood())}),t.qZA()}}const E=[{path:"",component:k},{path:":id",component:(()=>{class e{constructor(o,a,_){this.foodService=o,this.activatedRoute=a,this.translate=_,this.pageTitle="",this.foodId="",this.isLoading=!0,this.isError=!1,this.food={_id:"",name:"",imgURL:"",prices:[]},this.separatorTitles=[]}ngOnInit(){this.activatedRoute.params.subscribe(o=>{this.foodId=o.id,this.getFood()}),this.translatePage()}getFood(){this.isError=!1,this.isLoading=!0,this.foodService.getFood(this.foodId).subscribe({next:o=>{this.food=o},error:o=>{this.isError=!0,this.isLoading=!1,console.error(o)},complete:()=>this.isLoading=!1})}translatePage(){this.translate.get("TOURIST_SERVICES.FOOD.DETAILS").subscribe({next:o=>{this.pageTitle=o.TITLE,this.separatorTitles.push({text:o.PRICES_SEPARATOR_TEXT})}})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r),t.Y36(c.gz),t.Y36(g.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-food-details-page"]],decls:3,vars:3,consts:[[3,"viewTitle"],["class","wrapper",4,"ngIf"],[3,"reload",4,"ngIf"],[1,"wrapper"],[1,"top-info"],["class","image-side",3,"imageUrl",4,"skeleton","skeletonHeight","skeletonWidth"],[1,"details-side"],[3,"name",4,"skeleton","skeletonHeight","skeletonWidth"],[3,"title",4,"skeleton","skeletonHeight","skeletonWidth"],[3,"title","text",4,"ngFor","ngForOf"],[1,"bottom-info"],[1,"image-side",3,"imageUrl"],[3,"name"],[3,"title"],[3,"title","text"],[3,"reload"]],template:function(o,a){1&o&&(t._UZ(0,"app-back-title-button",0),t.YNc(1,J,8,10,"div",1),t.YNc(2,N,1,0,"app-error-message",2)),2&o&&(t.Q6J("viewTitle",a.pageTitle),t.xp6(1),t.Q6J("ngIf",!a.isError),t.xp6(1),t.Q6J("ngIf",a.isError))},dependencies:[i.sg,i.O5,p.M,h.T,d.H,M.u,b.s,L,I],styles:["@media (min-width: 600px){.wrapper[_ngcontent-%COMP%]{max-width:1150px;margin:0 auto}.top-info[_ngcontent-%COMP%]{display:flex;gap:24px;justify-content:center}.image-side[_ngcontent-%COMP%]{min-width:280px;width:500px}.details-side[_ngcontent-%COMP%]{min-width:280px;width:600px;max-width:490px;margin:0 0 0 auto}}"]}),e})()}];let R=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.Bz.forChild(E),c.Bz]}),e})();var Y=s(4466);let Q=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[i.ez,R,Y.m,x.si]}),e})()},7936:(C,f,s)=>{s.d(f,{M:()=>g});var i=s(4650),c=s(9299),t=s(6895);let l=(()=>{class p{constructor(d,u){this.router=d,this.location=u,this.history=[],this.router.events.subscribe(x=>{x instanceof c.m2&&this.history.push(x.urlAfterRedirects)})}back(){this.history.pop(),this.history.length>0?this.location.back():this.router.navigateByUrl("/")}}return p.\u0275fac=function(d){return new(d||p)(i.LFG(c.F0),i.LFG(t.Ye))},p.\u0275prov=i.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var m=s(4859),r=s(7392);let g=(()=>{class p{constructor(d){this.navigation=d,this.viewTitle=""}ngOnInit(){}back(){this.navigation.back()}}return p.\u0275fac=function(d){return new(d||p)(i.Y36(l))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-back-title-button"]],inputs:{viewTitle:"viewTitle"},decls:6,vars:1,consts:[[1,"back-title-body"],["mat-icon-button","",3,"click"],[1,"view-title"]],template:function(d,u){1&d&&(i.TgZ(0,"div",0)(1,"button",1),i.NdJ("click",function(){return u.back()}),i.TgZ(2,"mat-icon"),i._uU(3,"arrow_back"),i.qZA()(),i.TgZ(4,"p",2),i._uU(5),i.qZA()()),2&d&&(i.xp6(5),i.Oqu(u.viewTitle))},dependencies:[m.lW,r.Hw],styles:[".back-title-body[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}.back-title-body[_ngcontent-%COMP%]   .view-title[_ngcontent-%COMP%]{margin:0;font-weight:500;font-size:18px}"]}),p})()},4202:(C,f,s)=>{s.d(f,{T:()=>t});var i=s(4650);let c=(()=>{class l{constructor(r){this.host=r,this.width="",this.height="",this.className=""}ngOnInit(){const r=this.host.nativeElement;this.className&&r.classList.add(this.className),r.style.setProperty("--app-skeleton-loader-width",this.width??"100%"),r.style.setProperty("--app-skeleton-loader-height",this.height??"20px")}}return l.\u0275fac=function(r){return new(r||l)(i.Y36(i.SBq))},l.\u0275cmp=i.Xpm({type:l,selectors:[["app-skeleton-loader"]],hostAttrs:[1,"pulse"],decls:0,vars:0,template:function(r,g){},styles:["[_nghost-%COMP%]{margin-bottom:12px;display:block;width:var(--app-skeleton-loader-width);height:var(--app-skeleton-loader-height);background:#eee no-repeat;background:linear-gradient(110deg,#ececec 8%,#f5f5f5 18%,#ececec 33%);animation:1.5s shine linear infinite;background-size:200% 100%;border-radius:10px}@keyframes shine{to{background-position-x:-200%}}"]}),l})(),t=(()=>{class l{constructor(r,g){this.tpl=r,this.vcr=g,this.isLoading=!1,this.size=1,this.width="",this.height="",this.className=""}ngOnChanges(r){r.isLoading&&(this.vcr.clear(),r.isLoading.currentValue?Array.from({length:this.size}).forEach(()=>{const g=this.vcr.createComponent(c);Object.assign(g.instance,{width:this.width,height:this.height,className:this.className})}):this.vcr.createEmbeddedView(this.tpl))}}return l.\u0275fac=function(r){return new(r||l)(i.Y36(i.Rgc),i.Y36(i.s_b))},l.\u0275dir=i.lG2({type:l,selectors:[["","skeleton",""]],inputs:{isLoading:["skeleton","isLoading"],size:["skeletonRepeat","size"],width:["skeletonWidth","width"],height:["skeletonHeight","height"],className:["skeletonClassName","className"]},features:[i.TTD]}),l})()}}]);