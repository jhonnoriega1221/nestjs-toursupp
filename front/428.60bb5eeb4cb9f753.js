"use strict";(self.webpackChunkangular_toursapp=self.webpackChunkangular_toursapp||[]).push([[428],{6428:(ae,l,o)=>{o.r(l),o.d(l,{MuseumModule:()=>oe});var a=o(6895),u=o(9299),e=o(4650),x=o(2340),f=o(529);let r=(()=>{class t{constructor(s){this.http=s,this.apiURL=x.N.apiURL}getMuseums(){return this.http.get(`${this.apiURL}museums`)}getMuseum(s){return this.http.get(`${this.apiURL}museums/${s}`)}}return t.\u0275fac=function(s){return new(s||t)(e.LFG(f.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var c=o(4463),d=o(7936),g=o(4202),h=o(4077),M=o(4374),p=o(7392),_=o(3238);function C(t,n){if(1&t&&(e.TgZ(0,"span",7),e._uU(1),e.qZA()),2&t){const s=e.oxw();e.xp6(1),e.AsE("",s.location,", ",s.distance,"m")}}let T=(()=>{class t{constructor(){this.name="",this.imageUrl="",this.location="",this.distance=0,this.exhibitions=0,this.rating=0,this.url=["",0]}ngOnInit(){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-museum-list-item"]],inputs:{name:"name",imageUrl:"imageUrl",location:"location",distance:"distance",exhibitions:"exhibitions",rating:"rating",url:"url"},decls:17,vars:4,consts:[["matRipple","",1,"mat-card","list-item-body",3,"routerLink"],[1,"museum-image",3,"src"],[1,"museum-info"],[1,"museum-name"],["class","museum-location mat-caption",4,"ngIf"],[1,"museum-rate"],["color","primary",1,"icon-small"],[1,"museum-location","mat-caption"]],template:function(s,i){1&s&&(e.TgZ(0,"a",0),e._UZ(1,"img",1),e.TgZ(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.YNc(5,C,2,2,"span",4),e.TgZ(6,"div",5)(7,"mat-icon",6),e._uU(8,"star"),e.qZA(),e.TgZ(9,"mat-icon",6),e._uU(10,"star"),e.qZA(),e.TgZ(11,"mat-icon",6),e._uU(12,"star"),e.qZA(),e.TgZ(13,"mat-icon",6),e._uU(14,"star"),e.qZA(),e.TgZ(15,"mat-icon",6),e._uU(16,"star"),e.qZA()()()()),2&s&&(e.Q6J("routerLink",i.url),e.xp6(1),e.Q6J("src",i.imageUrl,e.LSH),e.xp6(3),e.Oqu(i.name),e.xp6(1),e.Q6J("ngIf",!1))},dependencies:[a.O5,u.yS,p.Hw,_.wG],styles:[".list-item-body[_ngcontent-%COMP%]{text-decoration:none;padding:6px;display:flex;gap:12px;border-radius:12px;box-shadow:none;min-height:74px;max-height:74px}.list-item-body[_ngcontent-%COMP%]   .museum-image[_ngcontent-%COMP%]{min-width:117px;max-width:117px;object-fit:cover;border-radius:8px}.list-item-body[_ngcontent-%COMP%]   .museum-info[_ngcontent-%COMP%]{width:100%}.list-item-body[_ngcontent-%COMP%]   .museum-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;display:block}.list-item-body[_ngcontent-%COMP%]   .museum-info[_ngcontent-%COMP%]   .museum-name[_ngcontent-%COMP%]{margin:0;height:36px;overflow:hidden;text-overflow:ellipsis;font-weight:500}.list-item-body[_ngcontent-%COMP%]   .museum-info[_ngcontent-%COMP%]   .museum-rate[_ngcontent-%COMP%]{display:none;height:16px}.icon-small[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px}"]}),t})();const v=function(t){return["/services/museum",t]};function P(t,n){if(1&t&&e._UZ(0,"app-museum-list-item",2),2&t){const s=n.$implicit;e.Q6J("name",s.name)("url",e.VKq(5,v,s._id))("imageUrl",s.imgURL)("rating",0)("distance",12)}}let Z=(()=>{class t{constructor(){this.museums=[]}ngOnInit(){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-museum-list"]],inputs:{museums:"museums"},decls:2,vars:1,consts:[[1,"wrapper"],["location","Centro",3,"name","url","imageUrl","rating","distance",4,"ngFor","ngForOf"],["location","Centro",3,"name","url","imageUrl","rating","distance"]],template:function(s,i){1&s&&(e.TgZ(0,"div",0),e.YNc(1,P,1,7,"app-museum-list-item",1),e.qZA()),2&s&&(e.xp6(1),e.Q6J("ngForOf",i.museums))},dependencies:[a.sg,T],styles:[".wrapper[_ngcontent-%COMP%]{display:grid;gap:6px}@media (min-width: 600px){.wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"]}),t})();function O(t,n){if(1&t&&e._UZ(0,"app-museum-list",7),2&t){const s=e.oxw(2);e.Q6J("museums",s.museums)}}function U(t,n){if(1&t&&(e.TgZ(0,"div",3)(1,"div",4),e._UZ(2,"app-filter-buttons-group"),e.qZA(),e.TgZ(3,"div",5),e.YNc(4,O,1,1,"app-museum-list",6),e.qZA()()),2&t){const s=e.oxw();e.xp6(4),e.Q6J("skeleton",s.isLoading)("skeletonHeight","90px")("skeletonRepeat",8)("skeletonWidth","100%")}}function w(t,n){if(1&t){const s=e.EpF();e.TgZ(0,"app-error-message",8),e.NdJ("reload",function(){e.CHM(s);const m=e.oxw();return e.KtG(m.getMuseums())}),e.qZA()}}let y=(()=>{class t{constructor(s,i){this.museumService=s,this.translate=i,this.pageTitle="",this.museums=[],this.isLoading=!0,this.isError=!1}ngOnInit(){this.getMuseums(),this.translatePage()}getMuseums(){this.isLoading=!0,this.isError=!1,this.museumService.getMuseums().subscribe({next:s=>this.museums=s,error:s=>{console.log(s),this.isError=!0,this.isLoading=!1},complete:()=>this.isLoading=!1})}translatePage(){this.translate.get("TOURIST_SERVICES.MUSEUM.LIST").subscribe({next:s=>{this.pageTitle=s.TITLE}})}}return t.\u0275fac=function(s){return new(s||t)(e.Y36(r),e.Y36(c.sK))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-museums-page"]],decls:3,vars:3,consts:[[3,"viewTitle"],["class","wrapper",4,"ngIf"],[3,"reload",4,"ngIf"],[1,"wrapper"],[1,"filters-list"],[1,"museums-list"],["class","museums-list",3,"museums",4,"skeleton","skeletonHeight","skeletonRepeat","skeletonWidth"],[1,"museums-list",3,"museums"],[3,"reload"]],template:function(s,i){1&s&&(e._UZ(0,"app-back-title-button",0),e.YNc(1,U,5,4,"div",1),e.YNc(2,w,1,0,"app-error-message",2)),2&s&&(e.Q6J("viewTitle",i.pageTitle),e.xp6(1),e.Q6J("ngIf",!i.isError),e.xp6(1),e.Q6J("ngIf",i.isError))},dependencies:[a.O5,d.M,g.T,h.H,M.J,Z],styles:[".wrapper[_ngcontent-%COMP%]{width:100%}@media (min-width: 800px){.wrapper[_ngcontent-%COMP%]{display:flex;gap:12px}.filters-list[_ngcontent-%COMP%]{min-width:270px;width:380px}.museums-list[_ngcontent-%COMP%]{max-width:1366px;width:100%;margin:0 auto}}"]}),t})();var k=o(7011);let L=(()=>{class t{constructor(){this.name="",this.rate=0,this.location="",this.distance=0,this.description=""}ngOnInit(){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-museum-header-details"]],inputs:{name:"name",rate:"rate",location:"location",distance:"distance",description:"description"},decls:20,vars:4,consts:[[1,"title-and-rating"],[1,"museum-name"],[1,"museum-rate"],["color","primary",1,"icon-small"],[1,"museum-location"],[1,"museum-distance"],[1,"museum-description"]],template:function(s,i){1&s&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"mat-icon",3),e._uU(5,"star"),e.qZA(),e.TgZ(6,"mat-icon",3),e._uU(7,"star"),e.qZA(),e.TgZ(8,"mat-icon",3),e._uU(9,"star"),e.qZA(),e.TgZ(10,"mat-icon",3),e._uU(11,"star"),e.qZA(),e.TgZ(12,"mat-icon",3),e._uU(13,"star"),e.qZA()()(),e.TgZ(14,"span",4),e._uU(15),e.qZA(),e.TgZ(16,"span",5),e._uU(17),e.qZA(),e.TgZ(18,"p",6),e._uU(19),e.qZA()),2&s&&(e.xp6(2),e.Oqu(i.name),e.xp6(13),e.Oqu(i.location),e.xp6(2),e.hij(", ",i.distance,"km"),e.xp6(2),e.Oqu(i.description))},dependencies:[p.Hw],styles:[".icon-small[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px}.title-and-rating[_ngcontent-%COMP%]{display:flex}.title-and-rating[_ngcontent-%COMP%]   .museum-name[_ngcontent-%COMP%]{width:100%;max-height:64px;text-overflow:ellipsis;overflow:hidden;margin:0;line-height:25px}.title-and-rating[_ngcontent-%COMP%]   .museum-rate[_ngcontent-%COMP%]{width:112px;margin-top:4px;display:none}.museum-location[_ngcontent-%COMP%], .museum-distance[_ngcontent-%COMP%]{font-size:12px;display:none}.museum-description[_ngcontent-%COMP%]{margin:6px 0}"]}),t})(),I=(()=>{class t{constructor(){this.imageUrl=""}ngOnInit(){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-museum-picture"]],inputs:{imageUrl:"imageUrl"},decls:1,vars:1,consts:[[1,"museum-image",3,"src"]],template:function(s,i){1&s&&e._UZ(0,"img",0),2&s&&e.Q6J("src",i.imageUrl,e.LSH)},styles:[".museum-image[_ngcontent-%COMP%]{width:100%;object-fit:cover;aspect-ratio:4/3;margin:0 0 12px}"]}),t})();var D=o(6435);function J(t,n){if(1&t&&e._UZ(0,"app-details-price-text",2),2&t){const s=n.$implicit;e.Q6J("title",s.people)("text",s.amount)}}let A=(()=>{class t{constructor(){this.prices=[],this.title=""}ngOnInit(){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-museum-details-prices"]],inputs:{prices:"prices",title:"title"},decls:2,vars:1,consts:[[1,"info"],["icon","person",3,"title","text",4,"ngFor","ngForOf"],["icon","person",3,"title","text"]],template:function(s,i){1&s&&(e.TgZ(0,"div",0),e.YNc(1,J,1,2,"app-details-price-text",1),e.qZA()),2&s&&(e.xp6(1),e.Q6J("ngForOf",i.prices))},dependencies:[a.sg,D.s],styles:[".info[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:12px}.title[_ngcontent-%COMP%]{margin:8px 0;font-size:12px}p[_ngcontent-%COMP%]{width:100%}"]}),t})();function S(t,n){if(1&t&&(e.TgZ(0,"p",4),e._uU(1),e.qZA()),2&t){const s=e.oxw().$implicit;e.xp6(1),e.AsE(" ",s.time_from," - ",s.time_to," ")}}function Q(t,n){1&t&&(e.TgZ(0,"p",5),e._uU(1," Cerrado "),e.qZA())}function R(t,n){if(1&t&&(e.TgZ(0,"div")(1,"p",1),e._uU(2),e.qZA(),e.YNc(3,S,2,2,"p",2),e.YNc(4,Q,2,0,"p",3),e.qZA()),2&t){const s=n.$implicit;e.xp6(2),e.Oqu(s.day),e.xp6(1),e.Q6J("ngIf",!s.closed),e.xp6(1),e.Q6J("ngIf",s.closed)}}let E=(()=>{class t{constructor(){this.schedules=[],this.title=""}ngOnInit(){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-museum-details-schedules"]],inputs:{schedules:"schedules",title:"title"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"time-title","mat-caption"],["class","time-text",4,"ngIf"],["class","time-text closed",4,"ngIf"],[1,"time-text"],[1,"time-text","closed"]],template:function(s,i){1&s&&e.YNc(0,R,5,3,"div",0),2&s&&e.Q6J("ngForOf",i.schedules)},dependencies:[a.sg,a.O5],styles:[".time-title[_ngcontent-%COMP%]{color:gray;margin:0}.time-text[_ngcontent-%COMP%]{font-weight:500;color:var(--toursapp-primary-app);margin-bottom:6px}.time-text[_ngcontent-%COMP%]::last-child{margin-bottom:0}.closed[_ngcontent-%COMP%]{color:red}"]}),t})();var H=o(8407),F=o(3835),Y=o(961);let N=(()=>{class t{constructor(s){this.mapService=s,this.lat=0,this.lon=0}ngAfterViewInit(){this.setMapLocation(this.lat,this.lon)}setMapLocation(s,i){this.mapService.getMapInstance().setView(H.latLng(s,i),18)}}return t.\u0275fac=function(s){return new(s||t)(e.Y36(F.S))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-museum-details-map"]],inputs:{lat:"lat",lon:"lon"},decls:1,vars:0,consts:[[1,"map-container"]],template:function(s,i){1&s&&e._UZ(0,"app-map",0)},dependencies:[Y.G]}),t})();function b(t,n){if(1&t&&e._UZ(0,"app-museum-picture",14),2&t){const s=e.oxw(2);e.Q6J("imageUrl",s.museum.imgURL)}}function W(t,n){if(1&t&&e._UZ(0,"app-museum-header-details",15),2&t){const s=e.oxw(2);e.Q6J("name",s.museum.name)("rate",0)("distance",12)("description",s.museum.description)}}function q(t,n){if(1&t&&e._UZ(0,"app-details-separator",16),2&t){const s=e.oxw(2);e.Q6J("title",s.separatorTitles[0].text)}}function X(t,n){if(1&t&&e._UZ(0,"app-museum-details-prices",17),2&t){const s=e.oxw(2);e.Q6J("prices",s.museum.prices)}}function z(t,n){if(1&t&&e._UZ(0,"app-details-separator",16),2&t){const s=e.oxw(2);e.Q6J("title",s.separatorTitles[1].text)}}function $(t,n){if(1&t&&e._UZ(0,"app-museum-details-schedules",18),2&t){const s=e.oxw(2);e.Q6J("schedules",s.museum.schedule)}}function j(t,n){1&t&&e._UZ(0,"app-details-separator",19)}function G(t,n){if(1&t&&e._UZ(0,"app-museum-details-map",20),2&t){const s=e.oxw(2);e.Q6J("lat",s.museum.location[0].lat)("lon",s.museum.location[0].lon)}}function K(t,n){if(1&t&&(e.TgZ(0,"div",3)(1,"div",4),e.YNc(2,b,1,1,"app-museum-picture",5),e.TgZ(3,"div",6),e.YNc(4,W,1,4,"app-museum-header-details",7),e.YNc(5,q,1,1,"app-details-separator",8),e.YNc(6,X,1,1,"app-museum-details-prices",9),e.YNc(7,z,1,1,"app-details-separator",8),e.YNc(8,$,1,1,"app-museum-details-schedules",10),e.qZA()(),e.TgZ(9,"div",11),e.YNc(10,j,1,0,"app-details-separator",12),e.YNc(11,G,1,2,"app-museum-details-map",13),e.qZA()()),2&t){const s=e.oxw();e.xp6(2),e.Q6J("skeleton",s.isLoading)("skeletonHeight","225px")("skeletonWidth","100%"),e.xp6(2),e.Q6J("skeleton",s.isLoading)("skeletonHeight","100px")("skeletonWidth","100%"),e.xp6(1),e.Q6J("skeleton",s.isLoading)("skeletonHeight","20px")("skeletonWidth","60px"),e.xp6(1),e.Q6J("skeleton",s.isLoading)("skeletonHeight","60px")("skeletonRepeat",1)("skeletonWidth","200px"),e.xp6(1),e.Q6J("skeleton",s.isLoading)("skeletonHeight","20px")("skeletonWidth","60px"),e.xp6(1),e.Q6J("skeleton",s.isLoading)("skeletonHeight","60px")("skeletonRepeat",2)("skeletonWidth","180px"),e.xp6(2),e.Q6J("skeleton",s.isLoading)("skeletonHeight","20px")("skeletonRepeat",1)("skeletonWidth","60px"),e.xp6(1),e.Q6J("skeleton",s.isLoading)("skeletonHeight","300px")("skeletonRepeat",1)("skeletonWidth","100%")}}function V(t,n){if(1&t){const s=e.EpF();e.TgZ(0,"app-error-message",21),e.NdJ("reload",function(){e.CHM(s);const m=e.oxw();return e.KtG(m.getMuseumData())}),e.qZA()}}const B=[{path:"",component:y},{path:":id",component:(()=>{class t{constructor(s,i,m){this.translate=s,this.museumService=i,this.activatedRoute=m,this.pageTitle="",this.museumId="",this.isLoading=!0,this.isError=!1,this.museum={_id:"",name:"",imgURL:"",prices:[],description:"",location:[],schedule:[]},this.separatorTitles=[]}ngOnInit(){this.activatedRoute.params.subscribe(s=>{this.museumId=s.id,this.getMuseumData()}),this.translatePage()}getMuseumData(){this.getMuseum()}getMuseum(){this.isError=!1,this.isLoading=!0,this.museumService.getMuseum(this.museumId).subscribe({next:s=>{this.museum=s},error:s=>{this.isError=!0,this.isLoading=!1,console.error(s)},complete:()=>this.isLoading=!1})}translatePage(){this.translate.get("TOURIST_SERVICES.MUSEUM.DETAILS").subscribe({next:s=>{this.pageTitle=s.TITLE,this.separatorTitles.push({text:s.PRICES_SEPARATOR_TEXT},{text:s.SCHEDULE_SEPARATOR_TEXT})}})}}return t.\u0275fac=function(s){return new(s||t)(e.Y36(c.sK),e.Y36(r),e.Y36(u.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-museum-details-page"]],decls:3,vars:3,consts:[[3,"viewTitle"],["class","wrapper",4,"ngIf"],[3,"reload",4,"ngIf"],[1,"wrapper"],[1,"top-info"],["class","image-side",3,"imageUrl",4,"skeleton","skeletonHeight","skeletonWidth"],[1,"details-side"],["location","Centro",3,"name","rate","distance","description",4,"skeleton","skeletonHeight","skeletonWidth"],[3,"title",4,"skeleton","skeletonHeight","skeletonWidth"],[3,"prices",4,"skeleton","skeletonHeight","skeletonRepeat","skeletonWidth"],[3,"schedules",4,"skeleton","skeletonHeight","skeletonRepeat","skeletonWidth"],[1,"bottom-info"],["title","Ubicaci\xf3n",4,"skeleton","skeletonHeight","skeletonRepeat","skeletonWidth"],[3,"lat","lon",4,"skeleton","skeletonHeight","skeletonRepeat","skeletonWidth"],[1,"image-side",3,"imageUrl"],["location","Centro",3,"name","rate","distance","description"],[3,"title"],[3,"prices"],[3,"schedules"],["title","Ubicaci\xf3n"],[3,"lat","lon"],[3,"reload"]],template:function(s,i){1&s&&(e._UZ(0,"app-back-title-button",0),e.YNc(1,K,12,28,"div",1),e.YNc(2,V,1,0,"app-error-message",2)),2&s&&(e.Q6J("viewTitle",i.pageTitle),e.xp6(1),e.Q6J("ngIf",!i.isError),e.xp6(1),e.Q6J("ngIf",i.isError))},dependencies:[a.O5,d.M,g.T,h.H,k.u,L,I,A,E,N],styles:["@media (min-width: 600px){.wrapper[_ngcontent-%COMP%]{max-width:1150px;margin:0 auto}.top-info[_ngcontent-%COMP%]{display:flex;gap:24px;justify-content:center}.image-side[_ngcontent-%COMP%]{min-width:280px;width:500px}.details-side[_ngcontent-%COMP%]{min-width:280px;width:600px;max-width:490px;margin:0 0 0 auto}}"]}),t})()}];let ee=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(B),u.Bz]}),t})();var te=o(4466),se=o(3546),ne=o(4859),ie=o(3366);let oe=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.ez,ee,te.m,p.Ps,se.QW,_.si,ne.ot,ie.MapModule]}),t})()}}]);