"use strict";(self.webpackChunkangular_toursapp=self.webpackChunkangular_toursapp||[]).push([[36],{7936:(O,h,s)=>{s.d(h,{M:()=>d});var i=s(4650),u=s(9299),t=s(6895);let c=(()=>{class p{constructor(l,f){this.router=l,this.location=f,this.history=[],this.router.events.subscribe(P=>{P instanceof u.m2&&this.history.push(P.urlAfterRedirects)})}back(){this.history.pop(),this.history.length>0?this.location.back():this.router.navigateByUrl("/")}}return p.\u0275fac=function(l){return new(l||p)(i.LFG(u.F0),i.LFG(t.Ye))},p.\u0275prov=i.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var m=s(4859),a=s(7392);let d=(()=>{class p{constructor(l){this.navigation=l,this.viewTitle=""}ngOnInit(){}back(){this.navigation.back()}}return p.\u0275fac=function(l){return new(l||p)(i.Y36(c))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-back-title-button"]],inputs:{viewTitle:"viewTitle"},decls:6,vars:1,consts:[[1,"back-title-body"],["mat-icon-button","",3,"click"],[1,"view-title"]],template:function(l,f){1&l&&(i.TgZ(0,"div",0)(1,"button",1),i.NdJ("click",function(){return f.back()}),i.TgZ(2,"mat-icon"),i._uU(3,"arrow_back"),i.qZA()(),i.TgZ(4,"p",2),i._uU(5),i.qZA()()),2&l&&(i.xp6(5),i.Oqu(f.viewTitle))},dependencies:[m.lW,a.Hw],styles:[".back-title-body[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}.back-title-body[_ngcontent-%COMP%]   .view-title[_ngcontent-%COMP%]{margin:0;font-weight:500;font-size:18px}"]}),p})()},4202:(O,h,s)=>{s.d(h,{T:()=>t});var i=s(4650);let u=(()=>{class c{constructor(a){this.host=a,this.width="",this.height="",this.className=""}ngOnInit(){const a=this.host.nativeElement;this.className&&a.classList.add(this.className),a.style.setProperty("--app-skeleton-loader-width",this.width??"100%"),a.style.setProperty("--app-skeleton-loader-height",this.height??"20px")}}return c.\u0275fac=function(a){return new(a||c)(i.Y36(i.SBq))},c.\u0275cmp=i.Xpm({type:c,selectors:[["app-skeleton-loader"]],hostAttrs:[1,"pulse"],decls:0,vars:0,template:function(a,d){},styles:["[_nghost-%COMP%]{margin-bottom:12px;display:block;width:var(--app-skeleton-loader-width);height:var(--app-skeleton-loader-height);background:#eee no-repeat;background:linear-gradient(110deg,#ececec 8%,#f5f5f5 18%,#ececec 33%);animation:1.5s shine linear infinite;background-size:200% 100%;border-radius:10px}@keyframes shine{to{background-position-x:-200%}}"]}),c})(),t=(()=>{class c{constructor(a,d){this.tpl=a,this.vcr=d,this.isLoading=!1,this.size=1,this.width="",this.height="",this.className=""}ngOnChanges(a){a.isLoading&&(this.vcr.clear(),a.isLoading.currentValue?Array.from({length:this.size}).forEach(()=>{const d=this.vcr.createComponent(u);Object.assign(d.instance,{width:this.width,height:this.height,className:this.className})}):this.vcr.createEmbeddedView(this.tpl))}}return c.\u0275fac=function(a){return new(a||c)(i.Y36(i.Rgc),i.Y36(i.s_b))},c.\u0275dir=i.lG2({type:c,selectors:[["","skeleton",""]],inputs:{isLoading:["skeleton","isLoading"],size:["skeletonRepeat","size"],width:["skeletonWidth","width"],height:["skeletonHeight","height"],className:["skeletonClassName","className"]},features:[i.TTD]}),c})()},7036:(O,h,s)=>{s.r(h),s.d(h,{TouristProductsModule:()=>z});var i=s(6895),u=s(9299),t=s(4650),c=s(2340),m=s(529);let a=(()=>{class e{constructor(o){this.http=o,this.apiURL=c.N.apiURL}getProducts(){return this.http.get(`${this.apiURL}tourist-products`)}getProduct(o){return this.http.get(`${this.apiURL}tourist-products/${o}`)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(m.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=s(4463),p=s(7936),g=s(4202),l=s(4077),f=s(4374),P=s(3238);let v=(()=>{class e{constructor(){this.itemUrl=["",0],this.urlImage="",this.rowOneText="",this.rowTwoText=0,this.rowThreeText=0}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-list-item"]],inputs:{itemUrl:"itemUrl",urlImage:"urlImage",rowOneText:"rowOneText",rowTwoText:"rowTwoText",rowThreeText:"rowThreeText"},decls:11,vars:8,consts:[["mat-ripple","",1,"list-item-body","mat-card",3,"routerLink"],[1,"item-image",3,"src"],[1,"item-data"],[1,"row1-and-row2"],[1,"row-1"],[1,"row-2"],[1,"row-3"]],template:function(o,r){1&o&&(t.TgZ(0,"a",0),t._UZ(1,"img",1),t.TgZ(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.qZA(),t.TgZ(6,"p",5),t._uU(7),t.qZA()(),t.TgZ(8,"p",6),t._uU(9),t.ALo(10,"translate"),t.qZA()()()),2&o&&(t.Q6J("routerLink",r.itemUrl),t.xp6(1),t.Q6J("src",r.urlImage,t.LSH),t.xp6(4),t.Oqu(r.rowOneText),t.xp6(2),t.hij("$",r.rowTwoText,""),t.xp6(2),t.AsE("",t.lcZ(10,6,"TOURIST_PRODUCTS.LIST.ANOTHER_PAYED_TEXT")," $",r.rowThreeText,""))},dependencies:[u.yS,P.wG,d.X$],styles:[".list-item-body[_ngcontent-%COMP%]{display:flex;height:82px;padding:6px;box-sizing:border-box;gap:6px;text-decoration:none;margin-bottom:12px;border-radius:10px;box-shadow:none}.list-item-body[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{min-width:70px;width:70px;height:70px;border-radius:6px;object-fit:contain;background-color:#fff;aspect-ratio:1}.list-item-body[_ngcontent-%COMP%]   .item-data[_ngcontent-%COMP%]{display:inherit;justify-content:space-between;flex-direction:column;width:100%}.list-item-body[_ngcontent-%COMP%]   .item-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .list-item-body[_ngcontent-%COMP%]   .item-data[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.list-item-body[_ngcontent-%COMP%]   .item-data[_ngcontent-%COMP%]   .row1-and-row2[_ngcontent-%COMP%]   .row-1[_ngcontent-%COMP%]{max-height:40px;font-weight:500;line-height:20px;overflow:hidden}.list-item-body[_ngcontent-%COMP%]   .item-data[_ngcontent-%COMP%]   .row1-and-row2[_ngcontent-%COMP%]   .row-2[_ngcontent-%COMP%]{font-weight:500;font-size:12px;color:var(--toursapp-primary-app)}.list-item-body[_ngcontent-%COMP%]   .item-data[_ngcontent-%COMP%]   .row-3[_ngcontent-%COMP%]{font-size:11px;color:gray;line-height:12px}"]}),e})();const I=function(e){return["/products",e]};function y(e,n){if(1&e&&t._UZ(0,"app-product-list-item",1),2&e){const o=n.$implicit;t.Q6J("itemUrl",t.VKq(5,I,o._id))("urlImage",o.imageURL)("rowOneText",o.name)("rowTwoText",o.prices[1].price)("rowThreeText",o.prices[2].price)}}let L=(()=>{class e{constructor(){this.products=[]}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-products-list"]],inputs:{products:"products"},decls:1,vars:1,consts:[[3,"itemUrl","urlImage","rowOneText","rowTwoText","rowThreeText",4,"ngFor","ngForOf"],[3,"itemUrl","urlImage","rowOneText","rowTwoText","rowThreeText"]],template:function(o,r){1&o&&t.YNc(0,y,1,7,"app-product-list-item",0),2&o&&t.Q6J("ngForOf",r.products)},dependencies:[i.sg,v]}),e})();function b(e,n){if(1&e&&t._UZ(0,"app-products-list",7),2&e){const o=t.oxw(2);t.Q6J("products",o.touristProducts)}}function U(e,n){if(1&e&&(t.TgZ(0,"div",3)(1,"div",4),t._UZ(2,"app-filter-buttons-group"),t.qZA(),t.TgZ(3,"div",5),t.YNc(4,b,1,1,"app-products-list",6),t.qZA()()),2&e){const o=t.oxw();t.xp6(4),t.Q6J("skeleton",o.isLoading)("skeletonHeight","82px")("skeletonRepeat",10)("skeletonWidth","100%")}}function k(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"app-error-message",8),t.NdJ("reload",function(){t.CHM(o);const _=t.oxw();return t.KtG(_.getProducts())}),t.qZA()}}let M=(()=>{class e{constructor(o,r){this.touristProductService=o,this.translate=r,this.pageTitle="",this.touristProducts=[],this.isLoading=!0,this.isLoadingMore=!1,this.isError=!1}ngOnInit(){this.getProducts(),this.translatePage()}getProducts(){this.isError=!1,this.touristProductService.getProducts().subscribe({next:o=>this.touristProducts=o,error:o=>{this.isError=!0,console.error(o)},complete:()=>this.isLoading=!1})}translatePage(){this.translate.get("TOURIST_PRODUCTS.LIST").subscribe({next:o=>{this.pageTitle=o.TITLE}})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(a),t.Y36(d.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-products-list-page"]],decls:3,vars:3,consts:[[3,"viewTitle"],["class","wrapper",4,"ngIf"],[3,"reload",4,"ngIf"],[1,"wrapper"],[1,"filters-list"],[1,"products-list"],[3,"products",4,"skeleton","skeletonHeight","skeletonRepeat","skeletonWidth"],[3,"products"],[3,"reload"]],template:function(o,r){1&o&&(t._UZ(0,"app-back-title-button",0),t.YNc(1,U,5,4,"div",1),t.YNc(2,k,1,0,"app-error-message",2)),2&o&&(t.Q6J("viewTitle",r.pageTitle),t.xp6(1),t.Q6J("ngIf",!r.isError),t.xp6(1),t.Q6J("ngIf",r.isError))},dependencies:[i.O5,p.M,g.T,l.H,f.J,L],styles:[".load-more-button[_ngcontent-%COMP%]{display:block;margin:0 auto;width:100%}.wrapper[_ngcontent-%COMP%]{width:100%}@media (min-width: 600px){.wrapper[_ngcontent-%COMP%]{display:flex;gap:12px}.filters-list[_ngcontent-%COMP%]{min-width:270px;width:380px}.products-list[_ngcontent-%COMP%]{max-width:1366px;width:100%;margin:0 auto}}"]}),e})();var Z=s(6435);function A(e,n){if(1&e&&t._UZ(0,"app-details-price-text",5),2&e){const o=n.$implicit;t.Q6J("title",o.name)("text",o.price)}}let R=(()=>{class e{constructor(){this.name="",this.prices=[]}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-info"]],inputs:{name:"name",prices:"prices"},decls:6,vars:2,consts:[[1,"product-info-container"],[1,"product-data"],[1,"product-name"],[1,"prices-list"],["icon","store",3,"title","text",4,"ngFor","ngForOf"],["icon","store",3,"title","text"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"p",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t.YNc(5,A,1,2,"app-details-price-text",4),t.qZA()()()),2&o&&(t.xp6(3),t.Oqu(r.name),t.xp6(2),t.Q6J("ngForOf",r.prices))},dependencies:[i.sg,Z.s],styles:[".product-info-container[_ngcontent-%COMP%]{margin-top:8px;display:flex;flex-direction:column}.product-info-container[_ngcontent-%COMP%]   .product-data[_ngcontent-%COMP%]{margin-bottom:12px}.product-info-container[_ngcontent-%COMP%]   .product-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.product-info-container[_ngcontent-%COMP%]   .product-data[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{margin-bottom:20px;font-weight:500;font-size:16px}@media (min-width: 600px){.product-data[_ngcontent-%COMP%]{margin-bottom:36px}}@media (min-width: 850px){.prices-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);max-width:480px}}"]}),e})(),S=(()=>{class e{constructor(){this.imageURL=""}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-image"]],inputs:{imageURL:"imageURL"},decls:1,vars:1,consts:[[1,"product-image",3,"src"]],template:function(o,r){1&o&&t._UZ(0,"img",0),2&o&&t.Q6J("src",r.imageURL,t.LSH)},styles:[".product-image[_ngcontent-%COMP%]{object-fit:contain;width:100%;margin:0 auto 20px;display:block;box-sizing:border-box;border-radius:12px;aspect-ratio:1;background-color:#fff}"]}),e})();var x=s(4859),T=s(5412),C=s(9549),w=s(4144);let D=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-price-dialog"]],decls:19,vars:15,consts:[["mat-dialog-title","",2,"font-weight","500"],["mat-dialog-content",""],["appearance","outline",2,"width","100%"],["matInput",""],["mat-dialog-actions","",2,"justify-content","end"],["mat-button",""],["mat-raised-button","","color","primary"]],template:function(o,r){1&o&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"div",1)(4,"p"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"mat-form-field",2)(8,"mat-label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"input",3),t.qZA()(),t.TgZ(12,"div",4)(13,"button",5),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"button",6),t._uU(17),t.ALo(18,"translate"),t.qZA()()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,5,"TOURIST_PRODUCTS.DETAILS.PRODUCT_PRICE_DIALOG_TITLE")),t.xp6(4),t.Oqu(t.lcZ(6,7,"TOURIST_PRODUCTS.DETAILS.PRODUCT_PRICE_DIALOG_BODY_TEXT")),t.xp6(4),t.Oqu(t.lcZ(10,9,"TOURIST_PRODUCTS.DETAILS.PRODUCT_PRICE_DIALOG_INPUT_TEXT")),t.xp6(5),t.Oqu(t.lcZ(15,11,"MISC.CANCEL_ACTION_TEXT")),t.xp6(3),t.Oqu(t.lcZ(18,13,"MISC.SUBMIT_ACTION_TEXT")))},dependencies:[x.lW,T.uh,T.xY,T.H8,C.KE,C.hX,w.Nt,d.X$]}),e})(),E=(()=>{class e{constructor(o){this.dialog=o}ngOnInit(){}openDialog(){this.dialog.open(D).afterClosed().subscribe(r=>{console.log(`Dialog result: ${r}`)})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(T.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-alt-prices-button"]],decls:8,vars:6,consts:[[1,"info-text","mat-caption"],["mat-raised-button","","color","primary",1,"price-button",3,"click"]],template:function(o,r){1&o&&(t.TgZ(0,"p",0),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"br"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",1),t.NdJ("click",function(){return r.openDialog()}),t._uU(7,"Indicar precio"),t.qZA()),2&o&&(t.xp6(1),t.hij("",t.lcZ(2,2,"TOURIST_PRODUCTS.DETAILS.HAVE_ADQUIRED_ANOTHER_PRICE_QUESTION_TEXT_1")," "),t.xp6(3),t.hij(" ",t.lcZ(5,4,"TOURIST_PRODUCTS.DETAILS.HAVE_ADQUIRED_ANOTHER_PRICE_QUESTION_TEXT_2"),""))},dependencies:[x.lW,d.X$],styles:[".info-text[_ngcontent-%COMP%]{color:gray;line-height:16px;margin-bottom:12px}.price-button[_ngcontent-%COMP%]{display:block;width:100%}@media (min-width: 600px){.price-button[_ngcontent-%COMP%]{max-width:200px}}"]}),e})();function N(e,n){if(1&e&&t._UZ(0,"app-product-image",8),2&e){const o=t.oxw(2);t.Q6J("imageURL",o.product.imageURL)}}function F(e,n){if(1&e&&t._UZ(0,"app-product-info",9),2&e){const o=t.oxw(2);t.Q6J("name",o.product.name)("prices",o.product.prices)}}function J(e,n){1&e&&t._UZ(0,"app-product-alt-prices-button",10)}function Y(e,n){if(1&e&&(t.TgZ(0,"div",3),t.YNc(1,N,1,1,"app-product-image",4),t.TgZ(2,"div",5),t.YNc(3,F,1,2,"app-product-info",6),t.YNc(4,J,1,0,"app-product-alt-prices-button",7),t.qZA()()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("skeleton",o.isLoading)("skeletonHeight","300px")("skeletonWidth","100%"),t.xp6(2),t.Q6J("skeleton",o.isLoading)("skeletonHeight","38px")("skeletonRepeat",2)("skeletonWidth","100%")("skeletonRepeat",3),t.xp6(1),t.Q6J("skeleton",o.isLoading)("skeletonHeight","52px")("skeletonWidth","100%")("skeletonRepeat",2)}}function B(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"app-error-message",11),t.NdJ("reload",function(){t.CHM(o);const _=t.oxw();return t.KtG(_.getProductInfo())}),t.qZA()}}const Q=[{path:"",component:M},{path:":id",component:(()=>{class e{constructor(o,r){this.touristProductService=o,this.activatedRoute=r,this.productId="",this.isLoading=!0,this.isError=!1,this.product={_id:"",name:"",imageURL:"",prices:[]}}ngOnInit(){this.activatedRoute.params.subscribe(o=>{this.productId=o.id,this.getProductInfo()})}getProductInfo(){this.isError=!1,this.touristProductService.getProduct(this.productId).subscribe({next:o=>this.product=o,error:o=>{this.isError=!0,console.error(o)},complete:()=>this.isLoading=!1})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(a),t.Y36(u.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-details-page"]],decls:3,vars:2,consts:[["viewTitle","Detalles del producto"],["class","product-image-details",4,"ngIf"],[3,"reload",4,"ngIf"],[1,"product-image-details"],["class","image-side",3,"imageURL",4,"skeleton","skeletonHeight","skeletonWidth"],[1,"details-side"],["class","page-component",3,"name","prices",4,"skeleton","skeletonHeight","skeletonRepeat","skeletonWidth"],["class","page-component",4,"skeleton","skeletonHeight","skeletonWidth","skeletonRepeat"],[1,"image-side",3,"imageURL"],[1,"page-component",3,"name","prices"],[1,"page-component"],[3,"reload"]],template:function(o,r){1&o&&(t._UZ(0,"app-back-title-button",0),t.YNc(1,Y,5,12,"div",1),t.YNc(2,B,1,0,"app-error-message",2)),2&o&&(t.xp6(1),t.Q6J("ngIf",!r.isError),t.xp6(1),t.Q6J("ngIf",r.isError))},dependencies:[i.O5,p.M,g.T,l.H,R,S,E],styles:["@media (min-width: 600px){.product-image-details[_ngcontent-%COMP%]{max-width:1150px;display:flex;justify-content:center;gap:24px;margin:0 auto}.image-side[_ngcontent-%COMP%]{min-width:280px;max-width:500px}.details-side[_ngcontent-%COMP%]{min-width:280px;width:600px;max-width:490px;margin:0 0 0 auto}}"]}),e})()}];let H=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(Q),u.Bz]}),e})();var X=s(4466);let z=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[i.ez,H,X.m,x.ot,T.Is,C.lN,w.c,P.si]}),e})()}}]);